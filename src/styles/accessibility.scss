// Accessibility Styles
// These styles provide fallbacks and enhancements for accessibility features

// Screen reader only content
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

// Skip to content link
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: var(--primary-600);
  color: white;
  padding: 8px 16px;
  text-decoration: none;
  border-radius: 4px;
  font-weight: 600;
  z-index: 10000;
  transition: top 0.3s;

  &:focus {
    top: 6px;
  }
}

// High contrast mode adjustments
.high-contrast {
  --primary-50: #000000;
  --primary-100: #1a1a1a;
  --primary-200: #333333;
  --primary-300: #4d4d4d;
  --primary-400: #666666;
  --primary-500: #808080;
  --primary-600: #ffffff;
  --primary-700: #ffffff;
  --primary-800: #ffffff;
  --primary-900: #ffffff;

  --gray-50: #000000;
  --gray-100: #1a1a1a;
  --gray-200: #333333;
  --gray-300: #4d4d4d;
  --gray-400: #666666;
  --gray-500: #808080;
  --gray-600: #cccccc;
  --gray-700: #e6e6e6;
  --gray-800: #f2f2f2;
  --gray-900: #ffffff;

  // Ensure proper contrast for interactive elements
  button, 
  .btn, 
  a {
    border: 2px solid currentColor;
    
    &:hover, 
    &:focus {
      background: white;
      color: black;
    }
  }

  // Stronger borders for form elements
  input, 
  textarea, 
  select {
    border: 2px solid white;
    background: black;
    color: white;
    
    &:focus {
      border-color: yellow;
      outline: 2px solid yellow;
    }
  }
}

// Reduced motion preferences
.reduced-motion {
  *, 
  *::before, 
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

// Focus visible improvements
.focus-visible {
  *:focus-visible {
    outline: 3px solid var(--primary-600);
    outline-offset: 2px;
    border-radius: 4px;
  }

  // Better focus for interactive elements
  button:focus-visible,
  .btn:focus-visible,
  a:focus-visible {
    outline: 3px solid var(--primary-600);
    outline-offset: 2px;
    box-shadow: 0 0 0 6px rgba(59, 130, 246, 0.2);
  }

  // Form element focus
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    outline: 3px solid var(--primary-600);
    outline-offset: 1px;
    border-color: var(--primary-600);
  }
}

// Font size adjustments
:root {
  --base-font-size: 16px;
}

html {
  font-size: var(--base-font-size);
}

// Ensure text remains readable at all sizes
@media (min-width: 320px) {
  html {
    font-size: max(var(--base-font-size), 14px);
  }
}

// Improve readability for users who need larger text
@media (prefers-reduced-motion: no-preference) {
  html {
    scroll-behavior: smooth;
  }
}

// Print styles for accessibility
@media print {
  .no-print,
  .skip-link,
  nav,
  .social-links,
  button:not(.print-button) {
    display: none !important;
  }

  body {
    font-size: 12pt;
    line-height: 1.5;
    color: black;
    background: white;
  }

  a {
    color: black;
    text-decoration: underline;
  }

  // Show URLs for important links
  a[href^="http"]:after {
    content: " (" attr(href) ")";
    font-size: 10pt;
    color: #666;
  }

  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
    color: black;
  }

  p, li {
    page-break-inside: avoid;
  }
}

// Keyboard navigation enhancements
.keyboard-navigation {
  // Ensure all interactive elements are accessible via keyboard
  [tabindex="-1"]:focus {
    outline: none;
  }

  // Improve visibility of keyboard focus
  *:focus {
    outline: 2px solid var(--primary-600);
    outline-offset: 2px;
  }
}

// Animation safety for vestibular disorders
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  // Allow essential animations to have minimal duration
  .essential-animation {
    animation-duration: 0.2s !important;
    transition-duration: 0.2s !important;
  }
}

// Color-blind friendly patterns
.colorblind-friendly {
  // Use patterns and shapes in addition to color
  .success {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23fff' d='M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 8px center;
    background-size: 16px;
  }

  .error {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23fff' d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 8px center;
    background-size: 16px;
  }

  .warning {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23fff' d='M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 8px center;
    background-size: 16px;
  }
}

// RTL support for internationalization
[dir="rtl"] {
  .contact-item {
    transform: translateX(-4px);
    
    &:hover {
      transform: translateX(-4px);
    }
  }

  .social-link {
    &:hover {
      transform: translateY(-3px) scale(1.1);
    }
  }
}

// Dark mode accessibility improvements
@media (prefers-color-scheme: dark) {
  :root {
    --shadow-color: rgba(255, 255, 255, 0.1);
  }

  // Ensure sufficient contrast in dark mode
  .contact-info,
  .contact-form,
  .email-section {
    border-color: rgba(255, 255, 255, 0.2);
  }

  // Adjust focus indicators for dark mode
  *:focus-visible {
    outline-color: #60a5fa;
  }
}